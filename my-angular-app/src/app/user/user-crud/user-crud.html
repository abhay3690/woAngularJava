<form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
  <div class="form-group">
    <label>Name</label>
    <input type="text" name="name" [(ngModel)]="user.name" required />
    <div *ngIf="userForm.submitted && !user.name" class="error">Name is required</div>
  </div>

  <div class="form-group">
    <label>Email</label>
    <input type="email" name="email" [(ngModel)]="user.email" required email />
    <div *ngIf="userForm.submitted && userForm.controls['email']?.errors?.['email']" class="error">
      Invalid email format
    </div>
  </div>

  <div class="form-group">
    <label>Contact Number</label>
    <input
      type="text"
      name="contactNumber"
      [(ngModel)]="user.contactNumber"
      pattern="^[0-9]{10}$"
      required
    />
    <div *ngIf="userForm.submitted && userForm.controls['contactNumber']?.errors?.['pattern']" class="error">
      Contact number must be 10 digits
    </div>
  </div>

  <button type="submit">{{ isEdit ? 'Update' : 'Add' }} User</button>
  <button type="button" (click)="onCancel()">Cancel</button>
</form>
